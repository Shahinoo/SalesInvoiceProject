
//     private void deleteLineBtn() {
//        int lineIndex = frame.getItemsTbl().getSelectedRow();
//        Item line = frame.getInvLineTableModel().getInvoiceLines().get(lineIndex);
//        frame.getInvLineTableModel().getInvoiceLines().remove(lineIndex);
//        frame.getInvHeaderTableModel().fireTableDataChanged();
//        frame.getInvLineTableModel().fireTableDataChanged();
//        frame.getTotalLbl().setText("" + line.getInv().getTotal());
//        JOptionPane.showMessageDialog(null, "Line Deleted Successfully ! ");
//        displayInvoices();
//    }


//     private void displayNewInvoiceDialog() {
//        frame.setHeaderDialog(new HeaderDialog(frame));
//        frame.getHeaderDialog().setVisible(true);
//
//    }

//    private void displayNewLineDialog() {
//        frame.setLineDialog(new ItemDialog(frame));
//        frame.getLineDialog().setVisible(true);
//
//    }


//    private void saveData() {
//          String headers = "";
//        String lines = "";
//        for (Header header : frame.getInvoicesArray()) {
//            headers += header.getDataAsCSV();
//            headers += "\n";
//            for (Item line : header.getLineItems()) {
//                lines += line.getDataAsCSV();
//                lines += "\n";
//            }
//        }
// JOptionPane.showMessageDialog(frame, "select file to save header data!", "Attention", JOptionPane.INFORMATION_MESSAGE);
//        JFileChooser fileChooser = new JFileChooser();
//        int output = fileChooser.showSaveDialog(frame);
//        if (output == JFileChooser.APPROVE_OPTION) {
//            File headerFile = fileChooser.getSelectedFile();
//            try {
//                FileWriter hFW = new FileWriter(headerFile);
//                hFW.write(headers);
//                hFW.flush();
//                hFW.close();
//
//                JOptionPane.showMessageDialog(frame, "select another file to save lines data!", "Attention", JOptionPane.INFORMATION_MESSAGE);
//                output = fileChooser.showSaveDialog(frame);
//                if (output == JFileChooser.APPROVE_OPTION) {
//                    File itemsFile = fileChooser.getSelectedFile();
//                    FileWriter lFW = new FileWriter(itemsFile);
//                    lFW.write(lines);
//                    lFW.flush();
//                    lFW.close();
//                }
//                JOptionPane.showMessageDialog(null, "File Saved Successfully ! ");
//
//            } catch (Exception e) {
//                JOptionPane.showMessageDialog(frame, "Error: " + e.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
//            }
//        }
//    }


// Load file action
//    private void loadFiles(String header, String line) {
//        File headerFile = null;
//        File lineFile = null;
//        if (header == null && line == null) {
//            JFileChooser fileChooser = new JFileChooser();
//            int output = fileChooser.showOpenDialog(frame);
//            if (output == JFileChooser.APPROVE_OPTION) {
//                headerFile = fileChooser.getSelectedFile();
//                output = fileChooser.showOpenDialog(frame);
//                if (output == JFileChooser.APPROVE_OPTION) {
//                    lineFile = fileChooser.getSelectedFile();
//                }
//            }
//        } else {
//            headerFile = new File(header);
//            lineFile = new File(line);
//        }
//
//        if (headerFile != null && lineFile != null) {
//            try {
//                List<String> headerLines = Files.lines(Paths.get(headerFile.getAbsolutePath())).collect(Collectors.toList());
//                List<String> ItemLines = Files.lines(Paths.get(lineFile.getAbsolutePath())).collect(Collectors.toList());
//
//                frame.getInvoicesArray().clear();
//
//                for (String headerLine : headerLines) {
//                    String[] parts = headerLine.split(",");
//                    String numberString = parts[0];
//                    String dateString = parts[1];
//                    String nameString = parts[2];
//
//                    int number = Integer.parseInt(numberString);
//                    Date date = dataFormat.parse(dateString);
//                    Header invoice = new Header(number, nameString, date);
//                    frame.getInvoicesArray().add(invoice);
//                }
//
//                System.out.println("Debug Point");
//
//                for (String itemLine : ItemLines) {
//                    String[] parts = itemLine.split(",");
//                    int number = Integer.parseInt(parts[0]);
//                    String name = parts[1];
//                    double price = Double.parseDouble(parts[2]);
//                    int count = Integer.parseInt(parts[3]);
//
//                    Header invoiceLine = getInvoiceByNum(number);
//                    Item item = new Item(name, price, count, invoiceLine);
//                    invoiceLine.getLineItems().add(item);
//                }
//
//                System.out.println("Debug Point");
//                frame.setInvHeaderTableModel(new HeaderTableModel(frame.getInvoicesArray()));
//                frame.getHeaderTbl().setModel(new HeaderTableModel(frame.getInvoicesArray()));
//
//            } catch (Exception e) {
//                e.printStackTrace();
//            }
//        }
//    }
